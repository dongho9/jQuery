<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>미에로화이버 반응형웹</title>
  <!-- 초기화 -->
  <link href="./css/reset.css" rel="stylesheet" type="text/css">
  <!-- 공통서식 (글꼴, 크기, 색상, 링크)-->
  <link href="./css/base.css" rel="stylesheet" type="text/css">
  <!-- pc화면 해상도일때 적용되는 서식 -->
  <link href="./css/pc.css" rel="stylesheet" type="text/css">
  <!-- tablet화면 해상도일때 적용되는 서식 -->
  <!-- <link href="./css/tablet.css" rel="stylesheet" type="text/css"> -->
  <!-- mobile화면 해상도일때 적용되는 서식 -->
  <link href="./css/mobile.css" rel="stylesheet" type="text/css">

  <!-- 아이콘폰트 주소 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

</head>
<body>
  
  <!-- 헤더영역 시작 -->
  <header>
    <h1>
      <a href="index.html" title="메인페이지로 바로가기">
        <img src="./images/logo2.png" alt="상단로고">
      </a>
    </h1>

    <!-- 모바일 버전에서 나오는 토글버튼(햄버거) -->
    <div id="toggle">
      <span>&nbsp;</span>
      <span>&nbsp;</span>
      <span>&nbsp;</span>
    </div>

    <!-- 메인메뉴 -->
    <nav class="gnb">
      <ul>

        <li>
          <a href="#" title="미에로">
            미에로<i class="fas fa-angle-down"></i>
          </a>
          <ul class="sub">
            <li>
              <a href="#" title="브스">브랜드스토리</a>
            </li>
            <li>
              <a href="#" title="식스">식이섬유스토리</a>
            </li>
          </ul>
        </li>

        <li>
          <a href="#" title="제품소개">제품소개<i class="fas fa-angle-down"></i></a>
          <ul class="sub">
            <li>
              <a href="#" title="미화">미에로화이바</a>
            </li>
            <li>
              <a href="#" title="미스제">미에로화이바 SPARKLING ZERO</a>
            </li>
            <li>
              <a href="#" title="헬올">헬씨올리고</a>
            </li>
            <li>
              <a href="#" title="헬프">헬씨올리고 프로바이오틱스</a>
            </li>
          </ul>
        </li>

        <li>
          <a href="#" title="미에로스토리">미에로스토리<i class="fas fa-angle-down"></i></a>
          <ul class="sub">
            <li>
              <a href="#" title="티광">TV광고</a>
            </li>
            <li>
              <a href="#" title="인광">인쇄광고</a>
            </li>
            <li>
              <a href="#" title="프모">프로모션</a>
            </li>
          </ul>
        </li>

        <li>
          <a href="#" title="미에로이벤트">미에로이벤트<i class="fas fa-angle-down"></i></a>
          <ul class="sub">
            <li>
              <a href="#" title="진이">진행중인 이벤트</a>
            </li>
            <li>
              <a href="#" title="당발">당첨자 발표</a>
            </li>
          </ul>
        </li>
        
        <li><a href="#" title="공지사항">공지사항</a></li>
      </ul>
    </nav>

  </header>

  <!-- 메인영역 시작 -->
  <main>
    <article class="visual">
      <h2>메인슬라이드</h2>
      <div class="slide1">
        <span>이제 짜릿하게 즐기자!<br>미에로화이바 스파클링 제로</span>
        <img src="./images/mslide1.jpg" alt="메인이미지1">
      </div>
      <div class="slide2">
        <span>마시는 식이섬유<br>미에로화이버</span>
        <img src="./images/mslide2.gif" alt="메인이미지2">
      </div>
      <div class="slide3">
        <img src="./images/mslide3.jpg" alt="메인이미지3">
      </div>

      <!-- 공통 ui구성요소 sns, 콘트롤버튼, 좌,우버튼 -->
      <!-- sns아이콘 -->
      <ul class="sns">
        <li><a href="#" title=""><i class="fab fa-facebook-f"></i></a></li>
        <li><a href="#" title=""><i class="fab fa-instagram"></i></a></li>
        <li><a href="#" title=""><i class="fab fa-youtube"></i></a></li>
      </ul>

      <!-- 좌, 우 방향버튼 -->
      <ul class="s_btn">
        <li><img src="./images/left.png" alt="이전버튼"></li>
        <li><img src="./images/right.png" alt="다음버튼"></li>
      </ul>

      <!-- 콘트롤버튼 -->
      <ul class="ctrl_btn">
        <li class="on">&nbsp;</li>
        <li>&nbsp;</li>
        <li>&nbsp;</li>
      </ul>
    </article>

    <!-- 뉴스 -->
    <section class="news_con">
      <article>

      </article>

      <article>

      </article>
    </section>
    
    <!-- 탭콘텐츠 -->
    <section class="tab_con">
      <h2></h2>
      <article>
        <h3>당신이 몰랐던 식이섬유</h3>
        <ul class="tab_con_wrap">
          <li>
            <a href="#" title="식" class="act">
              식이섬유란?
            </a>
            <div class="con01">
              <h4>식이섬유란?</h4>
              <p>사람의 소화효소로 분해되지 않는 성분, 몸 속의 과다한 양분흡수를 막아주고, 장의 리듬을 조절하며,음식물이 장 속에 머무는 시간을 단축시키는 등 현대 식생활에 꼭 필요한 물질로 제 7의 영양소로 주목 받고 있음</p>
              <span>※ 출처 : 파워푸드 슈퍼푸드 사전</span>
            </div>
          </li>
          <li>
            <a href="#" title="식기">
              식이섬유 기능
            </a>
            <div class="con02">
              <h4>식이섬유의 기능</h4>
              <p>1. 배설활동 촉진, 변비 예방</p>
              <p>2. 대사질환에 효과적</p>
              <p>3. 콜레스테롤 감소</p>
            </div>
          </li>
          <li class="con03t">
            <a href="#" title="식섭">
              식이섬유를 섭취하려면?
            </a>
            <div class="con03">
              <h4>식이섬유를 섭취하려면?</h4>
              <img src="images/tab_con02.png" alt="">
              <ul class="con03_li">
                <li>딸기 6개</li>
                <li>바나나 1개</li>
                <li>토마도 2개</li>
                <li>미에로 100mL</li>
              </ul>
              <img src="images/tab_con03.png" alt="">
              <ul class="con03_li">
                <li>딸기 13개</li>
                <li>바나나 2개</li>
                <li>토마도 4개</li>
                <li>미에로 210mL</li>
              </ul>
              <img src="images/tab_con04.png" alt="">
              <ul class="con03_li">
                <li>딸기 20개</li>
                <li>바나나 4개</li>
                <li>오렌지 6개</li>
                <li>미에로 350mL</li>
              </ul>
              <img src="images/tab_con05.png" alt="">
              <ul class="con03_li la">
                <li>딸기 72개</li>
                <li>바나나 12개</li>
                <li>토마도 24개</li>
                <li>미에로 1.2L</li>
              </ul>
              <span>
                ※ 딸기 21g/개, 바나나 100g/개, 토마토 175g/개 기준
              </span>
              <span>
                ※ 출처 : 식품교환표(대한영양사협회 2010년판), 한국인영양섭취기준(한국영양학회 2010년 개정판)
              </span>
            </div>
          </li>
        </ul>
      </article>
    </section>

    <!-- 인기제품 -->
    <section class="best_product">
        <article>

        </article>      
    </section>

    <!-- 이벤트 1170*256 746*256 -->
    <section class="event">
      <h2>미에로화이바 Event</h2>
      <article class="e_slide">
        <div class="es_wrap">
          <div>
            <a href="#" title="이벤트">
              <img src="images/event01.png" alt="이벤트1">
              <div class="e_text">
                <span>종료</span>
                <h3>[미에로화이바 이모지 이벤트]</h3>
                <p>2023.04.18 ~ 2023.04.24</p>
              </div>
            </a>
          </div>
          <div>
            <a href="#" title="이벤트">
              <img src="images/event02.png" alt="이벤트2">
              <div class="e_text">
                <span>종료</span>
                <h3>[미에로화이바 즐기는법 이벤트]</h3>
                <p>2023.03.09 ~ 2023.03.15</p>
              </div>
            </a>
          </div>
          <div>
            <a href="#" title="이벤트">
              <img src="images/event03.png" alt="이벤트3">
              <div class="e_text">
                <span>종료</span>
                <h3>[미에로화이바 스파클링 제로 케미 이벤트]</h3>
                <p>2023.05.09 ~ 2023.05.15</p>
              </div>
            </a>
          </div>
        </div>
      </article>
      <i class="fas fa-angle-left"></i>
      <i class="fas fa-angle-right"></i>
    </section>

    <section class="gallery">
      <article>
        <h2>미에로화이바 Girl 스토리</h2>
        <div class="girl">
          <figure>
            <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
              <img src="images/mcon5_1.jpg" alt="">
            </a>
            <figcaption>
              <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
                <h6>TV광고</h6>
                <p>2020</p>
                <span>영상보기</span>
              </a>
            </figcaption>
          </figure>
    
          <figure>
            <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
              <img src="images/mcon5_2.jpg" alt="">
            </a>
            <figcaption>
              <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
                <h6>TV광고</h6>
                <p>2019</p>
                <span>영상보기</span>
              </a>
            </figcaption>
          </figure>
    
          <figure>
            <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
              <img src="images/mcon5_4.jpg" alt="">
            </a>
            <figcaption>
              <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
                <h6>인쇄광고</h6>
                <p>2020</p>
              </a>
            </figcaption>
          </figure>
    
          <figure>
            <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
              <img src="images/mcon5_10.png" alt="">
            </a>
            <figcaption>
              <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
                <h6>인쇄광고</h6>
                <p>2019</p>
              </a>
            </figcaption>
          </figure>
    
          <figure>
            <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
              <img src="images/mcon5_6.jpg" alt="">
            </a>
            <figcaption>
              <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
                <h6>인쇄광고</h6>
                <p>2018</p>
              </a>
            </figcaption>
          </figure>
    
          <figure>
            <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
              <img src="images/mcon5_7.jpg" alt="">
            </a>
            <figcaption>
              <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
                <h6>TV광고</h6>
                <p>2018</p>
                <span>영상보기</span>
              </a>
            </figcaption>
          </figure>
    
          <figure>
            <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
              <img src="images/mcon5_8.jpg" alt="">
            </a>
            <figcaption>
              <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
                <h6>프로모션</h6>
                <p>2020</p>
                <span>영상보기</span>
              </a>
            </figcaption>
          </figure>
    
          <figure>
            <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
              <img src="images/mcon5_9.jpg" alt="">
            </a>
            <figcaption>
              <a href="http://hy87kang.dothome.co.kr/miero/miero.html#" title="">
                <h6>프로모션</h6>
                <p>2017</p>
                <span>영상보기</span>
              </a>
            </figcaption>
          </figure>
    
        </div>
      </article>
    </section>
  </main>

  <!-- 푸터영역 시작 -->
  <footer></footer>

  <!-- 제이쿼리 라이브러리 -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

  <script>
    $(document).ready(function(){

      // 1. 변수선언
      let gnb = $('header .gnb > ul > li > a');
      const l_btn = $('.visual .s_btn li:first-child');//좌측버튼
      const r_btn = $('.visual .s_btn li:last-child');//우측버튼
      const c_btn = $('.visual .ctrl_btn li'); //콘트롤 버튼
      let v_slide_img = $('.visual > div');//슬라이드 이미지

      const e_left = $('.event i.fa-angle-left'); //이벤트 좌버튼
      const e_right = $('.event i.fa-angle-right'); //이벤트 우버튼

      // const t = $(this).parent().index();
      // console.log(t);
      // if(t==2){
      //   $('.tab_con article').height(800);
      // }else{
      //   $('.tab_Con article').height(500);
      // }

      let i = $('.visual .ctrl_btn li').index(); //0값

      gnb.click(function(){
        // $('.sub').hide(); //보이는 서브 숨기고
        // // $(this).next().show(); //자신의 다음 요소 보이게하기
        $(this).next().toggle().parent().siblings().find('.sub').hide(); //자신의 다음 요소에 토글효과를 적용하고 자신의 부모의 형제들 중 .sub를 찾아서 숨기게한다
      })
      $('main').click(function(){
        $('.sub').css('display', 'none');
      })
      

      $('#toggle').click(function(){
        $('#toggle span:nth-child(2)').toggleClass('hide01');
        $('#toggle span:first-child').toggleClass('rotate1');
        $('#toggle span:last-child').toggleClass('rotate2');
        $(this).toggleClass('bb');
        $(this).toggleClass('tc');
        $('.gnb').slideToggle();
        $('.sub').slideUp();
      })

      //2. 움직이는 함수 = 서서히 사라지고 나타나는 효과
      function fadeInOut(){
        //console.log('시간함수호출');
        v_slide_img.stop().fadeOut(); //보이는 이미지 숨기고
        $('.visual .ctrl_btn li').removeClass('on'); //콘트롤버튼 서식 모두 제거

        if(i==2){  //만약에 마지막 이미지라면
          i=0; //처음이미지가 보이게하고
        }else{ //그렇지 않으면
          i++; //다음 이미지가 보이도록 한다.
        }
        $('.visual .ctrl_btn li').eq(i).addClass('on'); //선택한 콘트롤 버튼에 서식적용
        v_slide_img.eq(i).stop().fadeIn(); //해당 이미지가 보이게 한다.
      }

      function fadeInOut2(){
        v_slide_img.stop().fadeOut();
        $('.visual .ctrl_btn li').removeClass('on'); //콘트롤버튼 서식 모두 제거
        if(i==0){
          i=2;
        }else{
          i--;
        }
        $('.visual .ctrl_btn li').eq(i).addClass('on'); //선택한 콘트롤 버튼에 서식적용
        v_slide_img.eq(i).stop().fadeIn();
      }

      //3. 매 5초마다 함수를 반복호출하여 슬라이드가 변하게한다.
      let Timer = setInterval(fadeInOut,5000);

      //좌, 우 버튼 클릭시 해당하는 방향으로 슬라이드 이미지가 나오게하기
      l_btn.click(function(){
        fadeInOut2();
      });
      r_btn.click(function(){
        fadeInOut();
      });

      //좌, 우버튼에 마우스 오버시 시간을 제거하고
      $('.s_btn > li').hover(function(){
        clearInterval(Timer);
      },function(){//다시 마우스 아웃시 시간을 생성하여 다시 움직이게 한다.
        Timer = setInterval(fadeInOut, 5000);
      });

      //pagenation(콘트롤 버튼)
      //1. 현재이미지 번호를 체크
      //2. 이미지 전체 개수

      /*
        구현순서
        1. 콘트롤 버튼 변수 선언
        2. 콘트롤 버튼(li) 클릭시 인덱스값 0,1,2값을 출력
        3. 인덱스값을 fadeInOut함수의 매개변수값으로 넘김 => 슬라이드가 변함
        4. 사용자가 클릭한 콘트롤버튼(li)에 act서식을 적용하여 어둡게함.
      */

      c_btn.click(function(){
        clearInterval(Timer); //기존 자동슬라이드 제거

        let idx = $(this).index();

        v_slide_img.stop().fadeOut(); //보이는 이미지 숨기고
        $('.visual .ctrl_btn li').removeClass('on'); //콘트롤버튼 서식 모두 제거

        $('.visual .ctrl_btn li').eq(idx).addClass('on'); //선택한 콘트롤 버튼에 서식적용
        v_slide_img.eq(idx).stop().fadeIn(); //해당 이미지가 보이게 한다.

        i = idx; //원래 i값에 idx값을 일치시켜서 다음 순서가 제대로 나오게
      });
      //콘트롤버튼에 마우스 오버시 시간을 제거(Timer)하여 슬라이드 멈추게
      $('.ctrl_btn').mouseenter(function(){
        clearInterval(Timer);
      });
      //콘트롤버튼에 마우스 아웃시 다시 시간을 넣어서 다시 슬라이드 움직이게
      c_btn.mouseleave(function(){
        Timer = setInterval(fadeInOut, 5000);
      });

      //윈도우창의 너비값 = $(window).width(); or $(window).height();
      //$(window).innerWidth();

      let width;
      
      // //브라우저의 크기가 변하면 함수내용을 실행한다.
      // $(window).resize(function(){
      //   w_width = $(window).innerWidth();
      //   console.log(w_width);

      //   //pc버전 해상도일 경우 배경색 노랑
      //   if(w_width >= 1025){
      //     $('header h1 img').attr('src', './images/logo2.png')
      //     // $('body').css('background', '#ff0');
      //     //tablet버전 해상도일 경우 초록색
      //   }else if(w_width > 767 && w_width <=1024){  
      //     $('header h1 img').attr('src', './images/logo.png')
      //     $('body').css('background', '#0f0');
      //     //mobile버전 해상도일 경우 회색
      //   }else{
      //     $('header h1 img').attr('src', './images/logo.png')
      //     $('body').css('background', '#ccc');
      //   }
      // }).resize();
      
      const eslide = $('.es_wrap');
      $('.es_wrap > div:last-child').insertBefore('.es_wrap > div:first-child'); //마지막녀석을 첫번째의 앞으로 보내기
      eslide.css('margin-left', '-1200px'); 
      
      // moveleft함수
      function moveLeft(){
        eslide.stop().animate({'margin-left' : '-2400px'},1000, function(){ 
          $('.es_wrap > div:first-child').insertAfter('.es_wrap > div:last-child');
          eslide.css('margin-left', '-1200px');
        });
      }

      let Timer2 = setInterval(moveLeft, 3000);

      function moveRight(){
        eslide.stop().animate({'margin-left' : '0px'},1000, function(){ 
          $('.es_wrap > div:first-child').insertBefore('.es_wrap > div:last-child');
          eslide.css('margin-left', '-1200px');
        });
      }

      e_left.click(function(){
        clearInterval(Timer2);
        moveLeft();
      })
      e_right.click(function(){
        clearInterval(Timer2);
        moveRight();
      })
      $('.event i.fas').mouseenter(function(){
        clearInterval(Timer2);
      })
      $('.event i.fas').mouseleave(function(){
        Timer2 = setInterval(moveLeft, 3000);
      })

      $('.tab_con_wrap > li > a').click(function(){
        $(this).next().show().parent().siblings().find('div').hide();
        $(this).addClass('act').parent().siblings().find('a').removeClass('act');
        return false;
      })
      $('.tab_con_wrap > li:last-child > a').click(function(){
        $('.tab_con').addClass('act2');
      })
      $('.tab_con_wrap > li:first-child > a').click(function(){
        $('.tab_con').removeClass('act2');
      })
      $('.tab_con_wrap > li:nth-child(2) > a').click(function(){
        $('.tab_con').removeClass('act2');
      })

          });
  </script>
</body>
</html>